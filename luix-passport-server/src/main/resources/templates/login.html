<!DOCTYPE HTML>
<html>
<head>
    <title>Login</title>
    <th:block th:include="fragments/head :: head"/>
    <link rel="shortcut icon" th:href="@{/images/logo.svg}"/>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <p>Here are a few sample accounts</p>
            <table class="table">
                <thead>
                <tr>
                    <th>Username</th>
                    <th>Password</th>
                    <th>Roles</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>user</td>
                    <td>password</td>
                    <td>user</td>
                </tr>
                <tr>
                    <td>admin</td>
                    <td>password</td>
                    <td>admin</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Sign In</h3>
                </div>
                <div class="panel-body">
<!--                No need to write action part-->
<!--                <form th:action="@{/open-api/login}" method="POST">-->
                    <form method="POST">
                        <div th:if="${param.error}" class="alert alert-danger">
                            Invalid username or password.
                        </div>
                        <fieldset>
                            <div class="form-group">
                                <input class="form-control" placeholder="Username or Email" id="username" name="username" type="text"/>
                            </div>
                            <div class="form-group">
                                <input class="form-control" placeholder="Password" name="password" id="password" type="password" value=""/>
                            </div>
                            <input type="hidden" name="redirectUrl" th:value="${param.redirect_url}" />
                            <button id="signInBtn" class="btn btn-lg btn-primary btn-block" type="submit"/>Login</button>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    // $.get("../open-api/systems/ribbon-profile", function (result) {
    //     if (result) {
    //         $('div.ribbon').removeClass('hidden').find('a').text(result.toUpperCase());
    //     }
    // });
    $('#signInBtn').focus();
    // $('#signInBtn').on("click", function () {
    //     $.post('/api/login' + window.location.search, {username: $('#username').val(), password: $('#password').val()}, function (r) {
    //         if(r.data) {
    //             // Redirect to original request url
    //             location.href = r.data;
    //         } else {
    //             // Stay at server home page
    //             location.href = '/';
    //         }
    //     }).fail(function(err){
    //         // Process error
    //         console.log(err.responseJSON.message);
    //     });
    // });
</script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://code.jquery.com/jquery.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->
</body>
</html>